<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Shapes - CrSFML Tutorials</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../css/theme.css" />
  <link rel="stylesheet" href="../css/theme_extra.css" />
  <link href="../codehilite.css" rel="stylesheet" />
  <link href="../style.css" rel="stylesheet" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Shapes";
    var mkdocs_page_input_path = "graphics/shape.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> CrSFML Tutorials</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <p class="caption"><span class="caption-text">System module</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../system/time.html">Handling time</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../system/thread.html">Threads</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../system/stream.html">User data streams</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Window module</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../window/window.html">Opening and managing an SFML window</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../window/events.html">Events explained</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../window/inputs.html">Keyboard, mouse and joysticks</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../window/opengl.html">Using OpenGL in an SFML window</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Graphics module</span></p>
                <ul class="current">
                    <li class="toctree-l1"><a class="reference internal" href="draw.html">Drawing 2D stuff</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="sprite.html">Sprites and textures</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="text.html">Text and fonts</a>
                    </li>
                    <li class="toctree-l1 current"><a class="reference internal current" href="shape.html">Shapes</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#introduction">Introduction</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#common-shape-properties">Common shape properties</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#transformation-position-rotation-scale">Transformation (position, rotation, scale)</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#color">Color</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#outline">Outline</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#texture">Texture</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#drawing-a-shape">Drawing a shape</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#built-in-shape-types">Built-in shape types</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#rectangles">Rectangles</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#circles">Circles</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#regular-polygons">Regular polygons</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#convex-shapes">Convex shapes</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#lines">Lines</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#custom-shape-types">Custom shape types</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#antialiased-shapes">Antialiased shapes</a>
    </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="vertex-array.html">Designing your own entities with vertex arrays</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="transform.html">Position, rotation, scale: transforming entities</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="shader.html">Adding special effects with shaders</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="view.html">Controlling the 2D camera with views</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Audio module</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../audio/sounds.html">Playing sounds and music</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../audio/recording.html">Recording audio</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../audio/streams.html">Custom audio streams</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../audio/spatialization.html">Spatialization: Sounds in 3D</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Network module</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../network/socket.html">Communication using sockets</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../network/packet.html">Using packets</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../network/http.html">Web requests with HTTP</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../network/ftp.html">File transfers with FTP</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">CrSFML Tutorials</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
        
          <li>Graphics module &raquo;</li>
        
      
    
    <li>Shapes</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/oprypin/crsfml/blob/master/tutorials/graphics/shape.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="shapes">Shapes</h1>
<h2 id="introduction">Introduction</h2>
<p>CrSFML provides a set of classes that represent simple shape entities. Each type of shape is a separate class, but they all derive from the same base class so that they have access to the same subset of common features. Each class then adds its own specifics: a radius property for the circle class, a size for the rectangle class, points for the polygon class, etc.</p>
<h2 id="common-shape-properties">Common shape properties</h2>
<h3 id="transformation-position-rotation-scale">Transformation (position, rotation, scale)</h3>
<p>These properties are common to all the CrSFML graphical classes, so they are explained in a separate tutorial: <a href="transform.html" title="'Transforming entities' tutorial">Transforming entities</a>.</p>
<h3 id="color">Color</h3>
<p>One of the basic properties of a shape is its color. You can change with the <code>fill_color=</code> method.</p>
<div class="codehilite"><pre><span></span><code><span class="n">shape</span> <span class="o">=</span> <span class="no">SF</span><span class="o">::</span><span class="n">CircleShape</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>

<span class="c1"># set the shape color to green</span>
<span class="n">shape</span><span class="o">.</span><span class="n">fill_color</span> <span class="o">=</span> <span class="no">SF</span><span class="o">.</span><span class="n">color</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">250</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
</code></pre></div>

<p><img alt="A colored shape" src="images/shape-color.png" /></p>
<h3 id="outline">Outline</h3>
<p>Shapes can have an outline. You can set the thickness and color of the outline with the <code>outline_thickness=</code> and <code>outline_color=</code> methods.</p>
<div class="codehilite"><pre><span></span><code><span class="n">shape</span> <span class="o">=</span> <span class="no">SF</span><span class="o">::</span><span class="n">CircleShape</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="n">shape</span><span class="o">.</span><span class="n">fill_color</span> <span class="o">=</span> <span class="no">SF</span><span class="o">.</span><span class="n">color</span><span class="p">(</span><span class="mi">150</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">250</span><span class="p">)</span>

<span class="c1"># set a 10-pixel wide orange outline</span>
<span class="n">shape</span><span class="o">.</span><span class="n">outline_thickness</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">shape</span><span class="o">.</span><span class="n">outline_color</span> <span class="o">=</span> <span class="no">SF</span><span class="o">.</span><span class="n">color</span><span class="p">(</span><span class="mi">250</span><span class="p">,</span> <span class="mi">150</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
</code></pre></div>

<p><img alt="An outlined shape" src="images/shape-outline.png" /></p>
<p>By default, the outline is extruded outwards from the shape (e.g. if you have a circle with a radius of 10 and an outline thickness of 5, the total radius of the circle will be 15). You can make it extrude towards the center of the shape instead, by setting a negative thickness.</p>
<p>To disable the outline, set its thickness to 0. If you only want the outline, you can set the fill color to <code>SF::Color::Transparent</code>.</p>
<h3 id="texture">Texture</h3>
<p>Shapes can also be textured, just like sprites. To specify a part of the texture to be mapped to the shape, you must use the <code>texture_rect=</code> method. It takes the texture rectangle to map to the bounding rectangle of the shape. This method doesn't offer maximum flexibility, but it is much easier to use than individually setting the texture coordinates of each point of the shape.</p>
<div class="codehilite"><pre><span></span><code><span class="n">shape</span> <span class="o">=</span> <span class="no">SF</span><span class="o">::</span><span class="n">CircleShape</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>

<span class="c1"># map a 100x100 textured rectangle to the shape</span>
<span class="n">shape</span><span class="o">.</span><span class="n">set_texture</span><span class="p">(</span><span class="n">texture</span><span class="p">,</span> <span class="ss">reset_rect</span><span class="p">:</span> <span class="kc">false</span><span class="p">)</span> <span class="c1"># texture is a SF::Texture</span>
<span class="n">shape</span><span class="o">.</span><span class="n">texture_rect</span> <span class="o">=</span> <span class="no">SF</span><span class="o">.</span><span class="n">int_rect</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
</code></pre></div>

<p><img alt="A textured shape" src="images/shape-texture.png" /></p>
<p>Note that the outline is not textured.<br />
It is important to know that the texture is modulated (multiplied) with the shape's fill color. If its fill color is <code>SF::Color::White</code>, the texture will appear unmodified.
To disable texturing, call <code>set_texture(nil, false)</code>.</p>
<h2 id="drawing-a-shape">Drawing a shape</h2>
<p>Drawing a shape is as simple as drawing any other SFML entity:</p>
<div class="codehilite"><pre><span></span><code><span class="n">window</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">shape</span><span class="p">)</span>
</code></pre></div>

<h2 id="built-in-shape-types">Built-in shape types</h2>
<h3 id="rectangles">Rectangles</h3>
<p>To draw rectangles, you can use the <a href="http://oprypin.github.io/crsfml/api/SF/RectangleShape.html">RectangleShape</a> class. It has a single attribute: The size of the rectangle.</p>
<div class="codehilite"><pre><span></span><code><span class="c1"># define a 120x50 rectangle</span>
<span class="n">rectangle</span> <span class="o">=</span> <span class="no">SF</span><span class="o">::</span><span class="n">RectangleShape</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="no">SF</span><span class="o">.</span><span class="n">vector2</span><span class="p">(</span><span class="mi">120</span><span class="p">,</span> <span class="mi">50</span><span class="p">))</span>

<span class="c1"># change the size to 100x100</span>
<span class="n">rectangle</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="no">SF</span><span class="o">.</span><span class="n">vector2</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
</code></pre></div>

<p><img alt="A rectangle shape" src="images/shape-rectangle.png" /></p>
<h3 id="circles">Circles</h3>
<p>Relevant example: <strong><a href="https://github.com/oprypin/crsfml/tree/master/examples/snakes.cr">snakes</a></strong></p>
<p>Circles are represented by the <a href="http://oprypin.github.io/crsfml/api/SF/CircleShape.html">CircleShape</a> class. It has two attributes: The radius and the number of sides. The number of sides is an optional attribute, it allows you to adjust the "quality" of the circle: Circles have to be approximated by polygons with many sides (the graphics card is unable to draw a perfect circle directly), and this attribute defines how many sides your circle approximation will have. If you draw small circles, you'll probably only need a few sides. If you draw big circles, or zoom on regular circles, you'll most likely need more sides.</p>
<div class="codehilite"><pre><span></span><code><span class="c1"># define a circle with radius = 200</span>
<span class="n">circle</span> <span class="o">=</span> <span class="no">SF</span><span class="o">::</span><span class="n">CircleShape</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="mi">200</span><span class="p">)</span>

<span class="c1"># change the radius to 40</span>
<span class="n">circle</span><span class="o">.</span><span class="n">radius</span> <span class="o">=</span> <span class="mi">40</span>

<span class="c1"># change the number of sides (points) to 100</span>
<span class="n">circle</span><span class="o">.</span><span class="n">point_count</span> <span class="o">=</span> <span class="mi">100</span>
</code></pre></div>

<p><img alt="A circle shape" src="images/shape-circle.png" /></p>
<h3 id="regular-polygons">Regular polygons</h3>
<p>There's no dedicated class for regular polygons, in fact you can represent a regular polygon with any number of sides using the <a href="http://oprypin.github.io/crsfml/api/SF/CircleShape.html">CircleShape</a> class: Since circles are approximated by polygons with many sides, you just have to play with the number of sides to get the desired polygons. A <a href="http://oprypin.github.io/crsfml/api/SF/CircleShape.html">CircleShape</a> with 3 points is a triangle, with 4 points it's a square, etc.</p>
<div class="codehilite"><pre><span></span><code><span class="c1"># define a triangle</span>
<span class="n">triangle</span> <span class="o">=</span> <span class="no">SF</span><span class="o">::</span><span class="n">CircleShape</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="mi">80</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>

<span class="c1"># define a square</span>
<span class="n">square</span> <span class="o">=</span> <span class="no">SF</span><span class="o">::</span><span class="n">CircleShape</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="mi">80</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>

<span class="c1"># define an octagon</span>
<span class="n">octagon</span> <span class="o">=</span> <span class="no">SF</span><span class="o">::</span><span class="n">CircleShape</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="mi">80</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span>
</code></pre></div>

<p><img alt="Regular polygons" src="images/shape-regular.png" /></p>
<h3 id="convex-shapes">Convex shapes</h3>
<p>Relevant example: <strong><a href="https://github.com/oprypin/crsfml-examples/tree/master/2048/rounded_rectangle.cr">rounded_rectangle</a></strong></p>
<p>The <a href="http://oprypin.github.io/crsfml/api/SF/ConvexShape.html">ConvexShape</a> class is the ultimate shape class: It allows you to define any <em>convex</em> shape. SFML is unable to draw concave shapes. If you need to draw a concave shape, you'll have to split it into multiple convex polygons.</p>
<p>To construct a convex shape, you must first set the number of points it should have and then define the points.</p>
<div class="codehilite"><pre><span></span><code><span class="c1"># create an empty shape</span>
<span class="n">convex</span> <span class="o">=</span> <span class="no">SF</span><span class="o">::</span><span class="n">ConvexShape</span><span class="o">.</span><span class="n">new</span>

<span class="c1"># resize it to 5 points</span>
<span class="n">convex</span><span class="o">.</span><span class="n">point_count</span> <span class="o">=</span> <span class="mi">5</span>

<span class="c1"># define the points</span>
<span class="n">convex</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">=</span> <span class="no">SF</span><span class="o">.</span><span class="n">vector2</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">convex</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span> <span class="o">=</span> <span class="no">SF</span><span class="o">.</span><span class="n">vector2</span><span class="p">(</span><span class="mi">150</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">convex</span><span class="o">[</span><span class="mi">2</span><span class="o">]</span> <span class="o">=</span> <span class="no">SF</span><span class="o">.</span><span class="n">vector2</span><span class="p">(</span><span class="mi">120</span><span class="p">,</span> <span class="mi">90</span><span class="p">)</span>
<span class="n">convex</span><span class="o">[</span><span class="mi">3</span><span class="o">]</span> <span class="o">=</span> <span class="no">SF</span><span class="o">.</span><span class="n">vector2</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="n">convex</span><span class="o">[</span><span class="mi">4</span><span class="o">]</span> <span class="o">=</span> <span class="no">SF</span><span class="o">.</span><span class="n">vector2</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
</code></pre></div>

<p>The order in which you define the points is very important. They must <em>all</em> be defined either in clockwise or counter-clockwise order. If you define them in an inconsistent order, the shape will be constructed incorrectly.</p>
<p><img alt="A convex shape" src="images/shape-convex.png" /></p>
<p>Although the name of <a href="http://oprypin.github.io/crsfml/api/SF/ConvexShape.html">ConvexShape</a> implies that it should only be used to represent convex shapes, its requirements are a little more relaxed. In fact, the only requirement that your shape must meet is that if you went ahead and drew lines from its <em>center of gravity</em> to all of its points, these lines must be drawn in the same order. You are not allowed to "jump behind a previous line". Internally, convex shapes are automatically constructed using <a href="http://en.wikipedia.org/wiki/Triangle_fan" title="Go to Wikipedia's article about triangle fans">triangle fans</a>, so if your shape is representable by a triangle fan, you can use <a href="http://oprypin.github.io/crsfml/api/SF/ConvexShape.html">ConvexShape</a>. With this relaxed definition, you can draw stars using <a href="http://oprypin.github.io/crsfml/api/SF/ConvexShape.html">ConvexShape</a> for example.</p>
<h3 id="lines">Lines</h3>
<p>There's no shape class for lines. The reason is simple: If your line has a thickness, it is a rectangle. If it doesn't, it can be drawn with a line primitive.</p>
<p>Line with thickness:</p>
<div class="codehilite"><pre><span></span><code><span class="n">line</span> <span class="o">=</span> <span class="no">SF</span><span class="o">::</span><span class="n">RectangleShape</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="no">SF</span><span class="o">.</span><span class="n">vector2</span><span class="p">(</span><span class="mi">150</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">line</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="mi">45</span><span class="p">)</span>
</code></pre></div>

<p><img alt="A line shape drawn as a rectangle" src="images/shape-line-rectangle.png" /></p>
<p>Line without thickness:</p>
<div class="codehilite"><pre><span></span><code><span class="n">line</span> <span class="o">=</span> <span class="o">[</span>
  <span class="no">SF</span><span class="o">::</span><span class="n">Vertex</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="no">SF</span><span class="o">.</span><span class="n">vector2</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">)),</span>
  <span class="no">SF</span><span class="o">::</span><span class="n">Vertex</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="no">SF</span><span class="o">.</span><span class="n">vector2</span><span class="p">(</span><span class="mi">150</span><span class="p">,</span> <span class="mi">150</span><span class="p">))</span>
<span class="o">]</span>

<span class="n">window</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="no">SF</span><span class="o">::</span><span class="n">Lines</span><span class="p">)</span>
</code></pre></div>

<p><img alt="A line shape drawn as a primitive" src="images/shape-line-primitive.png" /></p>
<p>To learn more about vertices and primitives, you can read the tutorial on <a href="vertex-array.html" title="'Vertex arrays' tutorial">vertex arrays</a>.</p>
<h2 id="custom-shape-types">Custom shape types</h2>
<p>Relevant example: <strong><a href="https://github.com/oprypin/crsfml/tree/master/examples/shapes.cr">shapes</a></strong></p>
<p>You can extend the set of shape classes with your own shape types. To do so, you must derive from <a href="http://oprypin.github.io/crsfml/api/SF/Shape.html">Shape</a> and override two methods:</p>
<ul>
<li><code>point_count</code>: return the number of points in the shape</li>
<li><code>get_point</code>: return a point of the shape</li>
</ul>
<p>You must also call the <code>update()</code> method whenever any point in your shape changes, so that the base class is informed and can update its internal geometry.</p>
<p>Here is a complete example of a custom shape class: <code>EllipseShape</code>.</p>
<div class="codehilite"><pre><span></span><code><span class="k">class</span> <span class="nc">EllipseShape</span> <span class="o">&lt;</span> <span class="no">SF</span><span class="o">::</span><span class="n">Shape</span>
  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="vi">@radius</span> <span class="p">:</span> <span class="no">SF</span><span class="o">::</span><span class="n">Vector2f</span><span class="p">)</span>
    <span class="k">super</span><span class="p">()</span>
    <span class="n">update</span><span class="p">()</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">radius</span>
    <span class="vi">@radius</span>
  <span class="k">end</span>
  <span class="k">def</span> <span class="nf">radius</span><span class="o">=</span><span class="p">(</span><span class="n">radius</span> <span class="p">:</span> <span class="no">SF</span><span class="o">::</span><span class="n">Vector2f</span><span class="p">)</span>
    <span class="vi">@radius</span> <span class="o">=</span> <span class="n">radius</span>
    <span class="n">update</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">point_count</span>
    <span class="mi">40</span>  <span class="c1"># fixed, but could be an attribute of the class if needed</span>
  <span class="k">end</span>
  <span class="k">def</span> <span class="nf">get_point</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
    <span class="n">angle</span> <span class="o">=</span> <span class="n">index</span> <span class="o">*</span> <span class="mi">2</span><span class="o">*</span><span class="n">Math</span><span class="o">::</span><span class="no">PI</span> <span class="o">/</span> <span class="n">point_count</span>

    <span class="c1"># origin is {0, 0}, center is @radius</span>
    <span class="vi">@radius</span> <span class="o">+</span> <span class="vi">@radius</span> <span class="o">*</span> <span class="p">{</span><span class="n">Math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">angle</span><span class="p">),</span> <span class="n">Math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">angle</span><span class="p">)}</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div>

<p><img alt="An ellipse shape" src="images/shape-ellipse.png" /></p>
<h2 id="antialiased-shapes">Antialiased shapes</h2>
<p>Relevant example: <strong><a href="https://github.com/oprypin/crsfml/tree/master/examples/snakes.cr">snakes</a></strong></p>
<p>There's no option to anti-alias a single shape. To get anti-aliased shapes (i.e. shapes with smoothed edges), you have to enable anti-aliasing globally when you create the window, with the corresponding attribute of the structure.</p>
<div class="codehilite"><pre><span></span><code><span class="n">window</span> <span class="o">=</span> <span class="no">SF</span><span class="o">::</span><span class="n">RenderWindow</span><span class="o">.</span><span class="n">new</span><span class="p">(</span>
  <span class="no">SF</span><span class="o">::</span><span class="n">VideoMode</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="mi">800</span><span class="p">,</span> <span class="mi">600</span><span class="p">),</span>
  <span class="s2">&quot;SFML shapes&quot;</span><span class="p">,</span>
  <span class="ss">settings</span><span class="p">:</span> <span class="no">SF</span><span class="o">::</span><span class="n">ContextSettings</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="ss">depth</span><span class="p">:</span> <span class="mi">24</span><span class="p">,</span> <span class="ss">antialiasing</span><span class="p">:</span> <span class="mi">8</span><span class="p">)</span>
<span class="p">)</span>
</code></pre></div>

<p><img alt="Aliased vs antialiased shape" src="images/shape-antialiasing.png" /></p>
<p>Remember that anti-aliasing availability depends on the graphics card: It might not support it, or have it forced to disabled in the driver settings.<br />
Sometimes antialiasing does not work if <code>depth_bits</code> is not specified (use 24 if unsure).</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="vertex-array.html" class="btn btn-neutral float-right" title="Designing your own entities with vertex arrays">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="text.html" class="btn btn-neutral" title="Text and fonts"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/oprypin/crsfml/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="text.html" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="vertex-array.html" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
