<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Events explained - CrSFML Tutorials</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../css/theme.css" />
  <link rel="stylesheet" href="../css/theme_extra.css" />
  <link href="../codehilite.css" rel="stylesheet" />
  <link href="../style.css" rel="stylesheet" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Events explained";
    var mkdocs_page_input_path = "window/events.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> CrSFML Tutorials</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <p class="caption"><span class="caption-text">System module</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../system/time.html">Handling time</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../system/thread.html">Threads</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../system/stream.html">User data streams</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Window module</span></p>
                <ul class="current">
                    <li class="toctree-l1"><a class="reference internal" href="window.html">Opening and managing an SFML window</a>
                    </li>
                    <li class="toctree-l1 current"><a class="reference internal current" href="events.html">Events explained</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#introduction">Introduction</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#the-sfevent-type">The SF::Event type</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#the-closed-event">The Closed event</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#the-resized-event">The Resized event</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#the-lostfocus-and-gainedfocus-events">The LostFocus and GainedFocus events</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#the-textentered-event">The TextEntered event</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#the-keypressed-and-keyreleased-events">The KeyPressed and KeyReleased events</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#the-mousewheelmoved-event">The MouseWheelMoved event</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#the-mousewheelscrolled-event">The MouseWheelScrolled event</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#the-mousebuttonpressed-and-mousebuttonreleased-events">The MouseButtonPressed and MouseButtonReleased events</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#the-mousemoved-event">The MouseMoved event</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#the-mouseentered-and-mouseleft-event">The MouseEntered and MouseLeft event</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#the-joystickbuttonpressed-and-joystickbuttonreleased-events">The JoystickButtonPressed and JoystickButtonReleased events</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#the-joystickmoved-event">The JoystickMoved event</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#the-joystickconnected-and-joystickdisconnected-events">The JoystickConnected and JoystickDisconnected events</a>
    </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="inputs.html">Keyboard, mouse and joysticks</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="opengl.html">Using OpenGL in an SFML window</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Graphics module</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../graphics/draw.html">Drawing 2D stuff</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../graphics/sprite.html">Sprites and textures</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../graphics/text.html">Text and fonts</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../graphics/shape.html">Shapes</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../graphics/vertex-array.html">Designing your own entities with vertex arrays</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../graphics/transform.html">Position, rotation, scale: transforming entities</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../graphics/shader.html">Adding special effects with shaders</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../graphics/view.html">Controlling the 2D camera with views</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Audio module</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../audio/sounds.html">Playing sounds and music</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../audio/recording.html">Recording audio</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../audio/streams.html">Custom audio streams</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../audio/spatialization.html">Spatialization: Sounds in 3D</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Network module</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../network/socket.html">Communication using sockets</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../network/packet.html">Using packets</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../network/http.html">Web requests with HTTP</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../network/ftp.html">File transfers with FTP</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">CrSFML Tutorials</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
        
          <li>Window module &raquo;</li>
        
      
    
    <li>Events explained</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/oprypin/crsfml/blob/tutorials/window/events.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="events-explained">Events explained</h1>
<h2 id="introduction">Introduction</h2>
<p>This tutorial is a detailed list of window events. It describes them, and shows how to (and how not to) use them.</p>
<h2 id="the-sfevent-type">The SF::Event type</h2>
<p>Before dealing with events, it is important to understand what the <a href="http://oprypin.github.io/crsfml/api/SF/Event.html">Event</a> type is, and how to correctly use it. <a href="http://oprypin.github.io/crsfml/api/SF/Event.html">Event</a> (unlike in SFML, where it is a <em>union</em>) is just an abstract struct, and all the events are its subclasses. Many events have some data associated with them, so it is important to let the compiler know which exactly type of event is being inspected (using <code>is_a?</code>, <code>as</code>, <code>case</code>/<code>when</code>), otherwise none of the members will be accessible.</p>
<p>Here is the hierarchy: level 1 is the <code>Event</code> abstract struct itself, level 2 are abstract structs that add some members, and level 3 are concrete event types. The point of this is that that some events, while different (level 3), have exactly the same kind of information associated with them (level 2).</p>
<div class="codehilite"><pre><span></span><code>Event
├────╴Closed
├─╴SizeEvent: height, width
│  └─╴Resized
├────╴LostFocus
├────╴GainedFocus
├─╴TextEvent: unicode
│  └─╴TextEntered
├─╴KeyEvent: code, alt, control, shift, system
│  ├─╴KeyPressed
│  └─╴KeyReleased
├─╴MouseWheelEvent: delta, x, y
│  └─╴MouseWheelMoved
├─╴MouseWheelScrollEvent: wheel, delta, x, y
│  └─╴MouseWheelScrolled
├─╴MouseButtonEvent: button, x, y
│  ├─╴MouseButtonPressed
│  └─╴MouseButtonReleased
├─╴MouseMoveEvent: x, y
│  └─╴MouseMoved
├────╴MouseEntered
├────╴MouseLeft
├─╴JoystickButtonEvent: joystick_id, button
│  ├─╴JoystickButtonPressed
│  └─╴JoystickButtonReleased
├─╴JoystickMoveEvent: joystick_id, axis, position
│  └─╴JoystickMoved
├─╴JoystickConnectEvent: joystick_id
│  ├─╴JoystickConnected
│  └─╴JoystickDisconnected
├─╴TouchEvent: finger, x, y
│  ├─╴TouchBegan
│  ├─╴TouchMoved
│  └─╴TouchEnded
└─╴SensorEvent: type, x, y, z
   └─╴SensorChanged
</code></pre></div>

<p><a href="http://oprypin.github.io/crsfml/api/SF/Event.html">Event</a> instances are filled by the <code>poll_event</code> (or <code>wait_event</code>) method of the <a href="http://oprypin.github.io/crsfml/api/SF/Window.html">Window</a> class. Only these two methods can produce valid events.</p>
<p>To be clear, here is what a typical event loop looks like:</p>
<div class="crystal codehilite"><pre><span></span><code><span class="c1"># while there are pending events...</span>
<span class="k">while</span> <span class="n">event</span> <span class="o">=</span> <span class="n">window</span><span class="o">.</span><span class="n">poll_event</span>
  <span class="c1"># check the type of the event...</span>
  <span class="k">case</span> <span class="n">event</span>
    <span class="c1"># window closed</span>
    <span class="k">when</span> <span class="no">SF</span><span class="o">::</span><span class="n">Event</span><span class="o">::</span><span class="n">Closed</span>
      <span class="n">window</span><span class="o">.</span><span class="n">close</span>
    <span class="c1"># key pressed</span>
    <span class="k">when</span> <span class="no">SF</span><span class="o">::</span><span class="n">Event</span><span class="o">::</span><span class="n">KeyPressed</span>
      <span class="o">...</span>
    <span class="c1"># we don&#39;t process other types of events</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div>

<p>Alright, now we can see what events SFML supports, what they mean and how to use them properly.</p>
<h2 id="the-closed-event">The Closed event</h2>
<p>Relevant example: <strong><a href="https://github.com/oprypin/crsfml/tree/master/examples/simple.cr">simple</a></strong></p>
<p>The <code>SF::Event::Closed</code> event is triggered when the user wants to close the window, through any of the possible methods the window manager provides ("close" button, keyboard shortcut, etc.). This event only represents a close request, the window is not yet closed when the event is received.</p>
<p>Typical code will just call <code>window.close</code> in reaction to this event, to actually close the window. However, you may also want to do something else first, like saving the current application state or asking the user what to do. If you don't do anything, the window remains open.</p>
<p>There's no member associated with this event in the <a href="http://oprypin.github.io/crsfml/api/SF/Event.html">Event</a> union.</p>
<div class="crystal codehilite"><pre><span></span><code><span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">is_a?</span> <span class="no">SF</span><span class="o">::</span><span class="n">Event</span><span class="o">::</span><span class="n">Closed</span>
  <span class="n">window</span><span class="o">.</span><span class="n">close</span>
<span class="k">end</span>
</code></pre></div>

<h2 id="the-resized-event">The Resized event</h2>
<p>Relevant example: <strong><a href="https://github.com/oprypin/crsfml/tree/master/examples/gl.cr">gl</a></strong></p>
<p>The <code>SF::Event::Resized</code> event is triggered when the window is resized, either through user action or programmatically by calling <code>window.size=</code>.</p>
<p>You can use this event to adjust the rendering settings: the viewport if you use OpenGL directly, or the current view if you use sfml-graphics.</p>
<p>The data associated with this event is the new size of the window.</p>
<div class="crystal codehilite"><pre><span></span><code><span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">is_a?</span> <span class="no">SF</span><span class="o">::</span><span class="n">Event</span><span class="o">::</span><span class="n">Resized</span>
  <span class="nb">puts</span> <span class="s2">&quot;new width: </span><span class="si">#{</span><span class="n">event</span><span class="o">.</span><span class="n">width</span><span class="si">}</span><span class="s2">&quot;</span>
  <span class="nb">puts</span> <span class="s2">&quot;new height: </span><span class="si">#{</span><span class="n">event</span><span class="o">.</span><span class="n">height</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="k">end</span>
</code></pre></div>

<h2 id="the-lostfocus-and-gainedfocus-events">The LostFocus and GainedFocus events</h2>
<p>The <code>SF::Event::LostFocus</code> and <code>SF::Event::GainedFocus</code> events are triggered when the window loses/gains focus, which happens when the user switches the currently active window. When the window is out of focus, it doesn't receive keyboard events.</p>
<p>This event can be used e.g. if you want to pause your game when the window is inactive.</p>
<p>There's no member associated with these events in the <a href="http://oprypin.github.io/crsfml/api/SF/Event.html">Event</a> union.</p>
<div class="crystal codehilite"><pre><span></span><code><span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">is_a?</span> <span class="no">SF</span><span class="o">::</span><span class="n">Event</span><span class="o">::</span><span class="n">LostFocus</span>
  <span class="n">my_game</span><span class="o">.</span><span class="n">pause</span>
<span class="k">end</span>

<span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">is_a?</span> <span class="no">SF</span><span class="o">::</span><span class="n">Event</span><span class="o">::</span><span class="n">GainedFocus</span>
  <span class="n">my_game</span><span class="o">.</span><span class="n">resume</span>
<span class="k">end</span>
</code></pre></div>

<h2 id="the-textentered-event">The TextEntered event</h2>
<p>Relevant example: <strong><a href="https://github.com/oprypin/crsfml/tree/master/examples/typing.cr">typing</a></strong></p>
<p>The <code>SF::Event::TextEntered</code> event is triggered when a character is typed. This must not be confused with the <code>KeyPressed</code> event: <code>TextEntered</code> interprets the user input and produces the appropriate printable character. For example, pressing '^' then 'e' on a French keyboard will produce two <code>KeyPressed</code> events, but a single <code>TextEntered</code> event containing the 'ê' character. It works with all the input methods provided by the operating system, even the most specific or complex ones.</p>
<p>This event is typically used to catch user input in a text field.</p>
<p>The data associated with this event is the Unicode codepoint of the entered character (use <code>.chr</code> to convert it to a <code>Char</code>).</p>
<div class="crystal codehilite"><pre><span></span><code><span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">is_a?</span> <span class="no">SF</span><span class="o">::</span><span class="n">Event</span><span class="o">::</span><span class="n">TextEntered</span>
  <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">unicode</span> <span class="o">&lt;</span> <span class="mi">128</span>
    <span class="nb">puts</span> <span class="s2">&quot;ASCII character typed: </span><span class="si">#{</span><span class="n">event</span><span class="o">.</span><span class="n">unicode</span><span class="o">.</span><span class="n">chr</span><span class="si">}</span><span class="s2">&quot;</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div>

<p>Note that, since they are part of the Unicode standard, some non-printable characters such as <em>backspace</em> are generated by this event. In most cases you'll need to filter them out.</p>
<p>Many programmers use the <code>KeyPressed</code> event to get user input, and start to implement crazy algorithms that try to interpret all the possible key combinations to produce correct characters. Don't do that!</p>
<h2 id="the-keypressed-and-keyreleased-events">The KeyPressed and KeyReleased events</h2>
<p>Relevant example: <strong><a href="https://github.com/oprypin/crsfml/tree/master/examples/snakes.cr">snakes</a></strong></p>
<p>The <code>SF::Event::KeyPressed</code> and <code>SF::Event::KeyReleased</code> events are triggered when a keyboard key is pressed/released.</p>
<p>If a key is held, multiple <code>KeyPressed</code> events will be generated, at the default operating system delay (i. e. the same delay that applies when you hold a letter in a text editor). To disable repeated <code>KeyPressed</code> events, you can set <code>window.key_repeat_enabled = false</code>. On the flip side, it is obvious that <code>KeyReleased</code> events can never be repeated.</p>
<p>This event is the one to use if you want to trigger an action exactly once when a key is pressed or released, like making a character jump with space, or exiting something with escape.</p>
<p>Sometimes, people try to react to <code>KeyPressed</code> events directly to implement smooth movement. Doing so will <em>not</em> produce the expected effect, because when you hold a key you only get a few events (remember, the repeat delay). To achieve smooth movement with events, you must use a boolean that you set on <code>KeyPressed</code> and clear on <code>KeyReleased</code>; you can then move (independently of events) as long as the boolean is set.<br />
The other (easier) solution to produce smooth movement is to use real-time keyboard input with <a href="http://oprypin.github.io/crsfml/api/SF/Keyboard.html">Keyboard</a> (see the <a href="inputs.html" title="Real-time inputs tutorial">dedicated tutorial</a>).</p>
<p>The data associated with these events is the code of the pressed/released key, as well as the current state of the modifier keys (alt, control, shift, system).</p>
<div class="crystal codehilite"><pre><span></span><code><span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">is_a?</span> <span class="no">SF</span><span class="o">::</span><span class="n">Event</span><span class="o">::</span><span class="n">KeyPressed</span>
  <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">code</span> <span class="o">==</span> <span class="no">SF</span><span class="o">::</span><span class="n">Keyboard</span><span class="o">::</span><span class="n">Escape</span>
    <span class="nb">puts</span> <span class="s2">&quot;the escape key was pressed&quot;</span>
    <span class="nb">puts</span> <span class="s2">&quot;control: </span><span class="si">#{</span><span class="n">event</span><span class="o">.</span><span class="n">control</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="nb">puts</span> <span class="s2">&quot;alt: </span><span class="si">#{</span><span class="n">event</span><span class="o">.</span><span class="n">alt</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="nb">puts</span> <span class="s2">&quot;shift: </span><span class="si">#{</span><span class="n">event</span><span class="o">.</span><span class="n">shift</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="nb">puts</span> <span class="s2">&quot;system: </span><span class="si">#{</span><span class="n">event</span><span class="o">.</span><span class="n">system</span><span class="si">}</span><span class="s2">&quot;</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div>

<p>Note that some keys have a special meaning for the operating system, and will lead to unexpected behavior. An example is the F10 key on Windows, which "steals" the focus, or the F12 key which starts the debugger when using Visual Studio. This will probably be solved in a future version of SFML.</p>
<h2 id="the-mousewheelmoved-event">The MouseWheelMoved event</h2>
<p>The <code>SF::Event::MouseWheelMoved</code> event is <strong>deprecated</strong> since SFML 2.3, use the MouseWheelScrolled event instead.</p>
<h2 id="the-mousewheelscrolled-event">The MouseWheelScrolled event</h2>
<p>Relevant example: <strong><a href="https://github.com/oprypin/crsfml/tree/master/examples/diagnostics.cr">diagnostics</a></strong></p>
<p>The <code>SF::Event::MouseWheelScrolled</code> event is triggered when a mouse wheel moves up or down, but also laterally if the mouse supports it.</p>
<p>The data associated with this event contains the number of ticks the wheel has moved, what the orientation of the wheel is and the current position of the mouse cursor.</p>
<div class="crystal codehilite"><pre><span></span><code><span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">is_a?</span> <span class="no">SF</span><span class="o">::</span><span class="n">Event</span><span class="o">::</span><span class="n">MouseWheelScrolled</span>
  <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">wheel</span> <span class="o">==</span> <span class="no">SF</span><span class="o">::</span><span class="n">Mouse</span><span class="o">::</span><span class="n">VerticalWheel</span>
    <span class="nb">puts</span> <span class="s2">&quot;wheel type: vertical&quot;</span>
  <span class="k">elsif</span> <span class="n">event</span><span class="o">.</span><span class="n">wheel</span> <span class="o">==</span> <span class="no">SF</span><span class="o">::</span><span class="n">Mouse</span><span class="o">::</span><span class="n">HorizontalWheel</span>
    <span class="nb">puts</span> <span class="s2">&quot;wheel type: horizontal&quot;</span>
  <span class="k">else</span>
    <span class="nb">puts</span> <span class="s2">&quot;wheel type: unknown&quot;</span>
  <span class="k">end</span>

  <span class="nb">puts</span> <span class="s2">&quot;wheel movement: </span><span class="si">#{</span><span class="n">event</span><span class="o">.</span><span class="n">delta</span><span class="si">}</span><span class="s2">&quot;</span>
  <span class="nb">puts</span> <span class="s2">&quot;mouse x: </span><span class="si">#{</span><span class="n">event</span><span class="o">.</span><span class="n">x</span><span class="si">}</span><span class="s2">&quot;</span>
  <span class="nb">puts</span> <span class="s2">&quot;mouse y: </span><span class="si">#{</span><span class="n">event</span><span class="o">.</span><span class="n">y</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="k">end</span>
</code></pre></div>

<h2 id="the-mousebuttonpressed-and-mousebuttonreleased-events">The MouseButtonPressed and MouseButtonReleased events</h2>
<p>Relevant example: <strong><a href="https://github.com/oprypin/crsfml/tree/master/examples/diagnostics.cr">diagnostics</a></strong></p>
<p>The <code>SF::Event::MouseButtonPressed</code> and <code>SF::Event::MouseButtonReleased</code> events are triggered when a mouse button is pressed/released.</p>
<p>SFML supports 5 mouse buttons: left, right, middle (wheel), extra #1 and extra #2 (side buttons).</p>
<p>The data associated with these events contains the code of the pressed/released button, as well as the current position of the mouse cursor.</p>
<div class="crystal codehilite"><pre><span></span><code><span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">is_a?</span> <span class="no">SF</span><span class="o">::</span><span class="n">Event</span><span class="o">::</span><span class="n">MouseButtonPressed</span>
  <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">button</span><span class="o">.</span><span class="n">right?</span>
    <span class="nb">puts</span> <span class="s2">&quot;the right button was pressed&quot;</span>
    <span class="nb">puts</span> <span class="s2">&quot;mouse x: </span><span class="si">#{</span><span class="n">event</span><span class="o">.</span><span class="n">x</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="nb">puts</span> <span class="s2">&quot;mouse y: </span><span class="si">#{</span><span class="n">event</span><span class="o">.</span><span class="n">y</span><span class="si">}</span><span class="s2">&quot;</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div>

<h2 id="the-mousemoved-event">The MouseMoved event</h2>
<p>The <code>SF::Event::MouseMoved</code> event is triggered when the mouse moves within the window.</p>
<p>This event is triggered even if the window isn't focused. However, it is triggered only when the mouse moves within the inner area of the window, not when it moves over the title bar or borders.</p>
<p>The data associated with this event contains the current position of the mouse cursor relative to the window.</p>
<div class="crystal codehilite"><pre><span></span><code><span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">is_a?</span> <span class="no">SF</span><span class="o">::</span><span class="n">Event</span><span class="o">::</span><span class="n">MouseMoved</span>
  <span class="nb">puts</span> <span class="s2">&quot;new mouse x: </span><span class="si">#{</span><span class="n">event</span><span class="o">.</span><span class="n">x</span><span class="si">}</span><span class="s2">&quot;</span>
  <span class="nb">puts</span> <span class="s2">&quot;new mouse y: </span><span class="si">#{</span><span class="n">event</span><span class="o">.</span><span class="n">y</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="k">end</span>
</code></pre></div>

<h2 id="the-mouseentered-and-mouseleft-event">The MouseEntered and MouseLeft event</h2>
<p>The <code>SF::Event::MouseEntered</code> and <code>SF::Event::MouseLeft</code> events are triggered when the mouse cursor enters/leaves the window.</p>
<p>There is no data associated with these events.</p>
<div class="crystal codehilite"><pre><span></span><code><span class="k">case</span> <span class="n">event</span>
<span class="k">when</span> <span class="no">SF</span><span class="o">::</span><span class="n">Event</span><span class="o">::</span><span class="n">MouseEntered</span>
  <span class="nb">puts</span> <span class="s2">&quot;the mouse cursor has entered the window&quot;</span>
<span class="k">when</span> <span class="no">SF</span><span class="o">::</span><span class="n">Event</span><span class="o">::</span><span class="n">MouseLeft</span>
  <span class="nb">puts</span> <span class="s2">&quot;the mouse cursor has left the window&quot;</span>
<span class="k">end</span>
</code></pre></div>

<h2 id="the-joystickbuttonpressed-and-joystickbuttonreleased-events">The JoystickButtonPressed and JoystickButtonReleased events</h2>
<p>The <code>SF::Event::JoystickButtonPressed</code> and <code>SF::Event::JoystickButtonReleased</code> events are triggered when a joystick button is pressed/released.</p>
<p>SFML supports up to 8 joysticks and 32 buttons.</p>
<p>The data associated with these events contains the identifier of the joystick and the index of the pressed/released button.</p>
<div class="crystal codehilite"><pre><span></span><code><span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">is_a?</span> <span class="no">SF</span><span class="o">::</span><span class="n">Event</span><span class="o">::</span><span class="n">JoystickButtonPressed</span>
  <span class="nb">puts</span> <span class="s2">&quot;joystick button pressed!&quot;</span>
  <span class="nb">puts</span> <span class="s2">&quot;joystick id: </span><span class="si">#{</span><span class="n">event</span><span class="o">.</span><span class="n">joystick_id</span><span class="si">}</span><span class="s2">&quot;</span>
  <span class="nb">puts</span> <span class="s2">&quot;button: </span><span class="si">#{</span><span class="n">event</span><span class="o">.</span><span class="n">button</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="k">end</span>
</code></pre></div>

<h2 id="the-joystickmoved-event">The JoystickMoved event</h2>
<p>The <code>SF::Event::JoystickMoved</code> event is triggered when a joystick axis moves.</p>
<p>Joystick axes are typically very sensitive, that's why SFML uses a detection threshold to avoid spamming your event loop with tons of <code>JoystickMoved</code> events. This threshold can be changed with the <code>Window#joystick_threshold=</code> method, in case you want to receive more or less joystick move events.</p>
<p>SFML supports 8 joystick axes: X, Y, Z, R, U, V, POV X and POV Y. How they map to your joystick depends on its driver.</p>
<p>The member associated with this event contains the identifier of the joystick, the name of the axis, and its current position (in the range [-100, 100]).</p>
<div class="crystal codehilite"><pre><span></span><code><span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">is_a?</span> <span class="no">SF</span><span class="o">::</span><span class="n">Event</span><span class="o">::</span><span class="n">JoystickMoved</span>
  <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">axis</span> <span class="o">==</span> <span class="no">SF</span><span class="o">::</span><span class="n">Joystick</span><span class="o">::</span><span class="n">X</span>
    <span class="nb">puts</span> <span class="s2">&quot;X axis moved!&quot;</span>
    <span class="nb">puts</span> <span class="s2">&quot;joystick id: </span><span class="si">#{</span><span class="n">event</span><span class="o">.</span><span class="n">joystick_id</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="nb">puts</span> <span class="s2">&quot;new position: </span><span class="si">#{</span><span class="n">event</span><span class="o">.</span><span class="n">position</span><span class="si">}</span><span class="s2">&quot;</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div>

<h2 id="the-joystickconnected-and-joystickdisconnected-events">The JoystickConnected and JoystickDisconnected events</h2>
<p>The <code>SF::Event::JoystickConnected</code> and <code>SF::Event::JoystickDisconnected</code> events are triggered when a joystick is connected/disconnected.</p>
<p>The data associated with this event is the identifier of the connected/disconnected joystick.</p>
<div class="crystal codehilite"><pre><span></span><code><span class="k">case</span> <span class="n">event</span>
<span class="k">when</span> <span class="no">SF</span><span class="o">::</span><span class="n">Event</span><span class="o">::</span><span class="n">JoystickConnected</span>
  <span class="nb">puts</span> <span class="s2">&quot;joystick connected: </span><span class="si">#{</span><span class="n">event</span><span class="o">.</span><span class="n">joystick_id</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="k">when</span> <span class="no">SF</span><span class="o">::</span><span class="n">Event</span><span class="o">::</span><span class="n">JoystickDisconnected</span>
  <span class="nb">puts</span> <span class="s2">&quot;joystick disconnected: </span><span class="si">#{</span><span class="n">event</span><span class="o">.</span><span class="n">joystick_id</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="k">end</span>
</code></pre></div>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="inputs.html" class="btn btn-neutral float-right" title="Keyboard, mouse and joysticks">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="window.html" class="btn btn-neutral" title="Opening and managing an SFML window"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/oprypin/crsfml/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="window.html" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="inputs.html" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
